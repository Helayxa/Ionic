<ion-header>

  <ion-navbar>
    <ion-title>Formulaire de souscription Ã  une offre</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="offerForm" (ngSubmit)="submitForm()">
    <div *ngFor="let field of fields">
      <div [ngSwitch]="field?.input">

        <div *ngSwitchCase="'text'">
          <ion-item>
            <ion-label color="primary" stacked>{{field?.label}}</ion-label>
            <ion-input [placeholder]="field.params?.placeholder" [formControlName]="field?.fieldId"></ion-input>
          </ion-item>
        </div>

        <div *ngSwitchCase="'number'">
          <ion-item>
            <ion-label color="primary" stacked>{{field?.label}}</ion-label>
            <ion-input type="number" [formControlName]="field?.fieldId"></ion-input>
          </ion-item>
        </div>

        <div *ngSwitchCase="'date'">
          <ion-item>
            <ion-label color="primary" stacked>{{field?.label}}</ion-label>
            <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MMMM/YYYY" cancelText="Annuler" doneText="Valider" [formControlName]="field?.fieldId"></ion-datetime>
          </ion-item>
        </div>
        
        <!-- TODO: check, radio et select -->

      </div>
    </div>
    <button ion-button type="submit" [disabled]="!offerForm.valid">S'inscrire</button>
  </form>

</ion-content>
